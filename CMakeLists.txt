cmake_minimum_required (VERSION 2.6.0)

project (PF)
set (PF_CMAKE_DIR "${PF_SOURCE_DIR}/cmake")
set (CMAKE_MODULE_PATH ${CMAKE_MODULE_PATH} "${PF_CMAKE_DIR}")
set (DEBUG_MEMORY CACHE bool false)

if (UNIX)
  if (DEBUG_MEMORY)
    set (DEBUG_MEMORY_FLAG "-DDEBUG_MEMORY=1")
  else (DEBUG_MEMORY)
    set (DEBUG_MEMORY_FLAG "-DDEBUG_MEMORY=0")
  endif (DEBUG_MEMORY)
  set (CMAKE_CXX_FLAGS "${DEBUG_MEMORY_FLAG} -msse2 -msse3 -mssse3 -fno-exceptions -Wall -std=c++0x")
  set (CMAKE_C_FLAGS "${DEBUG_MEMORY_FLAG} -msse2 -msse3 -mssse3 -Wall")
elseif (UNIX)
  if (DEBUG_MEMORY)
    set (DEBUG_MEMORY_FLAG "/DDEBUG_MEMORY=1")
  else (DEBUG_MEMORY)
    set (DEBUG_MEMORY_FLAG "/DDEBUG_MEMORY=0")
  endif (DEBUG_MEMORY)
  set (COMMON_FLAGS "${DEBUG_MEMORY_FLAG} /D_CRT_SECURE_NO_WARNINGS /D_HAS_EXCEPTIONS=0 /GR- /W3 /wd4275")
  set (CMAKE_CXX_FLAGS ${COMMON_FLAGS})
  set (CMAKE_C_FLAGS ${COMMON_FLAGS})
endif (UNIX)

add_subdirectory (src)

